
Desugared:

	(letrec (types ())
	 (values
	  ((b
	    (: (fn x (((.= y) x) (Integer 2)))
	     ((record (types ()) (values ())) ->
	      (record (types ()) (values ((y int)))))))
	   (a
	    (: (fn x (((.= y) x) (Integer 2)))
	     ((record (types ()) (values ((y int)))) ->
	      (record (types ()) (values ((y int)))))))))
	 {})

inferred type:

	(record (types ()) (values ()))

Runtime term:

	(LetRec
	 (((0
	    (Lam
	     (0 ()
	      (App
	       ((App
	         ((Lam
	           (0 ()
	            (Lam (1 () (Update (old (Var 1)) (label y) (field (Var 0)))))))
	          (Var 0)))
	        (Const (Integer 2)))))))
	   (0
	    (Lam
	     (0 ()
	      (App
	       ((App
	         ((Lam
	           (0 ()
	            (Lam (1 () (Update (old (Var 1)) (label y) (field (Var 0)))))))
	          (Var 0)))
	        (Const (Integer 2))))))))
	  (Record ())))

Evaluated:

	(Record ())
