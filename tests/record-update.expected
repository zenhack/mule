
Desugared:

	(((.= y) (letrec (types ()) (values ((x {}))) (((.= x) {}) x)))
	 (letrec (types ()) (values ((z {}))) (((.= z) {}) z)))

inferred type:

	(record (types ())
	 (values
	  ((y (record (types ()) (values ((z (record (types ()) (values ())))))))
	   (x (record (types ()) (values ()))))))

Runtime term:

	(App
	 ((App
	   ((Lam
	     (0 () (Lam (1 () (Update (old (Var 1)) (label y) (field (Var 0)))))))
	    (LetRec
	     (((0 (Record ())))
	      (App
	       ((App
	         ((Lam
	           (0 ()
	            (Lam (1 () (Update (old (Var 1)) (label x) (field (Var 0)))))))
	          (Record ())))
	        (Var 0)))))))
	  (LetRec
	   (((0 (Record ())))
	    (App
	     ((App
	       ((Lam
	         (0 () (Lam (1 () (Update (old (Var 1)) (label z) (field (Var 0)))))))
	        (Record ())))
	      (Var 0)))))))

Evaluated:

	(Record ((x (Record ())) (y (Record ((z (Record ())))))))
